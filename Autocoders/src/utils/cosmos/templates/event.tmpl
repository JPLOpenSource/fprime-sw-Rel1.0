# Created on ${date}
# Author: ${user}
# #echo '\n'
# THIS FILE IS AUTOMATICALLY GENERATED - DO NOT EDIT!!!
# #echo '\n'
# Component Source: ${source}

# COMPONENT: "${component_string}"
TELEMETRY ${target_caps} ${evr_name} ${endianness} "${evr_desc}"
    #raw<%=#end raw render "_ref_tlm_evr_hdr.txt", locals: {id: ${id}} %>

    #for $item in $items
    #if $item.block
    APPEND_ITEM EVR_ITEMS 0 BLOCK "Contains all other items"
    #elsif $item.derived
      ITEM $item.name 0 0 DERIVED "$item.desc"
        READ_CONVERSION multivariable_tlm_item_conversion.rb "$item.template_string"
        #if not $item.format_string == ""
        FORMAT_STRING "$item.format_string"
        #end if
        #for $type in $item.types
        STATE $type[0] $type[1]
        #end for
    #elsif $item.neg_offset
    ITEM $item.name $item.bit_offset $item.bits $item.type "$item.desc"
      #if not $item.format_string == ""
      FORMAT_STRING "$item.format_string"
      #end if
      #for $type in $item.types
        STATE $type[0] $type[1]
      #end for
    #else
    APPEND_ITEM $item.name $item.bits $item.type "$item.desc"
      #if not $item.format_string == ""
      FORMAT_STRING "$item.format_string"
      #end if
      #for $type in $item.types
        STATE $type[0] $type[1]
      #end for
    #end if
    #end for

    ITEM MESSAGE 0 0 DERIVED "Formatted String for Argument"
      GENERIC_READ_CONVERSION_START STRING 0
        sprintf('${format_string}' #slurp
#for $item in $items 
, packet.read('$item.name') #slurp
#end for
#if not $last_item == "NONE" 
packet.read('$last_item.name') #slurp
#end if 
)
      GENERIC_READ_CONVERSION_END
    ITEM EVR_SEVERITY 0 0 DERIVED "Severity"
      GENERIC_READ_CONVERSION_START STRING 0
        sprintf('${severity}')
      GENERIC_READ_CONVERSION_END